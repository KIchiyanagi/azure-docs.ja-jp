---
title: "Linux デプロイ上の Azure Web App - カスタム イメージか組み込みのプラットフォーム イメージか  | Microsoft Docs"
description: "カスタム Docker コンテナーのデプロイおよび組み込みのアプリケーション フレームワーク間での決定方法"
keywords: "Azure App Service, Web アプリ, Linux, OSS"
services: app-service
documentationCenter: 
authors: nickwalk
manager: cfowler
editor: 
ms.assetid: 
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/14/2017
ms.author: nickwalk
ms.openlocfilehash: 322533a9dce54222943f8b2a3d653780a674c8a4
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/11/2017
---
# <a name="custom-image-or-built-in-platform-image"></a>カスタム イメージか組み込みのプラットフォーム イメージか

[Linux 上の Web App](app-service-linux-intro.md) では、Web に対して発行されたアプリケーションを取得する 2 つの異なるパスを提供しています。

- **カスタム イメージのデプロイ**: 実行準備完了パッケージにあるすべてのファイルと依存関係を含む Docker イメージにアプリを "Docker化" します。
- **組み込みのプラットフォーム イメージを使ったアプリのデプロイ**: 組み込みのプラットフォーム イメージには、共通の Web アプリ ランタイムとノードや PHP などの依存関係が含まれています。 いずれかの [Azure App Service のデプロイ方法](../app-service-deploy-local-git.md?toc=%2fazure%2fapp-service%2fcontainers%2ftoc.json)を使って、お使いの Web アプリのストレージにアプリをデプロイし、組み込みのプラットフォーム イメージを使用してアプリを実行します。

お使いのアプリにとって最適な方法は? 考慮すべき主な要素は次のとおりです。

- **開発ワークフローにおける Docker の可用性**: カスタム イメージの開発には、Docker 開発ワークフローの基本的な知識が必要です。 Web アプリにカスタム イメージをデプロイするには、Docker Hub などのリポジトリ ホストにカスタム イメージを発行する必要があります。 Docker をよく理解していて、ビルド ワークフローに Docker タスクを追加できる場合、または、既に Docker イメージとしてアプリを発行している場合は、カスタム イメージがほぼ確実に最適な選択です。
- **一意のランタイム要件**: 組み込みのプラットフォーム イメージは、ほとんどの Web アプリのニーズに合うように設計されていますが、カスタマイズ性は制限されます。 アプリが一意の依存関係や、組み込みのイメージでは対応しきれない他のランタイム要件を備えている場合もあります。
- **ビルドの要件**: [継続的配置](../app-service-continuous-deployment.md?toc=%2fazure%2fapp-service%2fcontainers%2ftoc.json)を利用すると、ソース コードから直接アプリを起動して Azure 上で実行できます。 外部のビルドや発行プロセスは必要ありません。 ただし、[Kudu](https://github.com/projectkudu/kudu/wiki) デプロイ エンジン内の組み込みツールのカスタマイズ性と可用性には制限があります。 お使いのアプリが、カスタム ビルド ロジックの依存関係や要件において向上すると、それに伴って Kudu の機能を拡張できます。
- **ディスク読み取り/書き込み要件**: すべての Web アプリは Web コンテンツのストレージ ボリュームに割り当てられます。 Azure Storage でサポートされるこのボリュームは、アプリのファイルシステムの `/home` にマウントされています。 コンテナー ファイルシステム内のファイルとは異なり、コンテンツ ボリューム内のファイルは、アプリのスケール インスタンス全体にアクセスでき、アプリを再起動しても変更は保持されます。 ただし、コンテンツ ボリュームのディスクの待ち時間は、ローカル コンテナー ファイルシステムの待ち時間よりも長く、より変化が大きくなります。また、アクセスは、プラットフォームのアップグレード、計画外のダウンタイム、およびネットワーク接続の問題の影響を受ける場合があります。 コンテンツ ファイルに対して高負荷の読み取り専用アクセスが必要になるアプリでは、コンテンツ ボリュームではなく、イメージ ファイルシステムにファイルを配置するカスタム イメージのデプロイが有益な場合があります。
- **ビルド リソースの利用状況**: アプリがソースからデプロイされた場合、Kudu から実行されるデプロイ スクリプトでは、実行中のアプリと同じ App Service プランのコンピューティングとストレージ リソースを使用します。 大規模なアプリのデプロイには、予定よりも多くのリソースや時間を費やすことがあります。 特に、デプロイ ワークフローの数が多くなると、アプリのコンテンツ ボリュームではディスクの動作が高負荷になります。 カスタム イメージでは、アプリのすべてのファイルと依存関係を単一のパッケージで Azure に配信し、追加のファイル転送やデプロイの動作は必要ありません。
- **迅速な反復処理の必要性**: アプリの Docker 化には、追加のビルド ステップが必要になります。 変更を有効にするには、各更新プログラムを使って新しいイメージをリポジトリにプッシュする必要があります。 これらの更新プログラムは、Azure 環境にプルされます。 組み込みのコンテナーのいずれかがアプリのニーズを満たしている場合、ソースからのデプロイによって、より迅速なデプロイ ワークフローを提供できます。