---
title: "Azure Machine Learning データ準備ツールで使用可能なサポートされている変換 | Microsoft Docs"
description: "このドキュメントでは、Azure ML データ準備ツールで使用可能な変換の完全な一覧を提供します。"
services: machine-learning
author: euangMS
ms.author: euang
manager: lanceo
ms.reviewer: 
ms.service: machine-learning
ms.workload: data-services
ms.custom: 
ms.devlang: 
ms.topic: article
ms.date: 09/07/2017
ms.translationtype: HT
ms.sourcegitcommit: c3a2462b4ce4e1410a670624bcbcec26fd51b811
ms.openlocfilehash: fd3f8157e27847b99e59465063111a6d6c8c713d
ms.contentlocale: ja-jp
ms.lasthandoff: 09/25/2017

---
# <a name="supported-transforms-for-this-release"></a>このリリースでサポートされている変換
このリリースで使用可能な変換について、の一覧と概要を次に示します。 

このリリースでサポートされる変換は次のとおりです。

## <a name="column-selection"></a>列の選択 
次の一覧表示された変換の多くは、1 つまたは複数の列に対応します。 複数の列を選択するには、Ctrl キーを押しながら各列をクリックするか、Shift キーを押しながらクリックして列の範囲を指定します。

## <a name="transforms-from-main-menu-andor-grid-header"></a>メイン メニューまたはグリッド ヘッダーからの変換 
変換には、メイン メニューで [変換] オプションからアクセスできます。 データ グリッド内の列名を右クリックして [変換] を選択することもできます。 複数の列が選択されている場合、その 1 つを右クリックすると、[変換] メニューが表示されます。

右クリック メニューでは、選択されたデータ型について有効な変換のみが提供されます。メイン メニューでは、すべての変換が提供されますが、選択された列に対応しない変換はグレー アウトされます。

コンテキスト変換の一部のサブセットは、セル内を右クリックして使用できます。 これらの変換は、コピー、置換、およびフィルター処理であり、変換はデータ型に対応しているため、数値の列のオプションは、文字列の列とは異なります。

## <a name="derive-column-by-example"></a>列の派生の例
この変換により、1 つ以上の既存の列から派生物として新しい列を作成することができます。 これは、入力 (選択された) 列と、新しい列への出力を決定するために設定されている例を参照して行われます。 

この機能を使用するには、1 つ以上の列を選択します。 例によって、新しい (空の) 派生列を追加します。 派生列に表示する例 (他の列から派生されると仮定して) を入力すると、「By Example」テクノロジが列のその他のすべてのセルに値を入力するよう試みます。 

複雑な例の場合、1 つ以上の例を入力した後、別のセルを選択し、別の例を入力する必要がある場合があります。

「By Example」テクノロジは、選択した列を使用して、例の意味を判別するよう試みます。 列を選択していない状態でこの変換を呼び出すと、現在の行のすべてのセルが使用されます。 必要な列のみを選択すると、より正確な結果が得られます。

変換を呼び出す前に、列を選択することができます。 トランス フォーム エディターが起動された後、各列の上部にあるチェック ボックスによって、どの列が入力として選択されているか確認できます。 選択された列の追加や削除は、列のヘッダ－のチェックボックスを使用して行うことができます。

詳細については**例による列の派生 (Derived Column By Example)** 変換の他の例、および[例を参照して列を派生する (Derive Column by Example Reference)](data-prep-derive-column-by-example.md) を参照してください。  

## <a name="split-column-by-example"></a>例による列の分割
既存の列に「By Example」エンジンを使用すると、その列を別の n 個の列に分割しようとします。 以降の生成された列についても自動分割を実行することができます。

詳細については**例による列の分割 (Split Column By Example)** 変換、および[例を参照して列を分割する (Split Column by Example Reference)](data-prep-split-column-by-example.md) を参照してください

## <a name="expand-json"></a>JSON の展開

**Expand JSON** 変換によって、有効な JSON テキストを使用して、1 つの列を拡張して複数の列を追加することができます。

**JSON の展開 (Expand JSON)** 変換の詳細とより多くの例については、[JSON 展開リファレンス (Expand JSON Reference)](data-prep-expand-json.md) を参照してください。


## <a name="combine-columns-by-example"></a>列の結合の例

複数の列から値を結合して新しい列を追加することができます。 

詳細については**例による列の結合 (Combine Column By Example)** 変換の他の例、および[例を参照して列を結合する (Combine Column by Example Reference)](data-prep-combine-columns-by-example.md) を参照してください。


## <a name="duplicate-column"></a>列の複製
この変換は、1 つまたは複数の列の完全なコピーを作成し、元の列の名前から派生する新しい名前をつけます。 この変換は、1 つまたは複数の列をサポートしています。

## <a name="text-clustering"></a>テキスト クラスタリング 
この変換は、本来同じであるはずの不整合のある値を取り上げ、グループにまとます。  

この変換を実行すると、1 つの列にある値が、類似性によって分析されます。 その後、値はクラスターにグループ化されます。 各クラスターには基準となる値があり、この値によってクラスター内のすべてのインスタンス、およびインスタンスの値が置き換えられます。 完成したクラスターは削除することができ、基準の値は編集することができます。 一部のクラスターについてはインスタンスを削除することができます。 さらに、インスタンスをクラスターにグループ化するために使用する類似性スコアしきい値フィルターは変更できます。

既定では、この変換は、すべてのクラスター インスタンスの値を、当該クラスターの基準の値で置き換えます。その際、新しい値を格納するため、新しい列が作成されます。 各インスタンスについて、新しい列 (名前を指定できます) に類似性スコアを追加することもできます。この列は、データ フローの後続の部分で使用できます。

## <a name="replace-values"></a>値の置換
この変換で、1 つの文字列を別の文字列で置き換えることができます。置き換えるソース文字列は、文字列の一部、またはセル全体とすることができます。 置換は、1 つまたは複数の列に適用できます。 検索文字列では、標準文字、特殊文字のいずれの検索もサポートします。 

## <a name="replace-na-values"></a>NA 値の置換
この機能により、「NA」 のさまざまな異なる形式 (N/A、NA、null、NaN など) または空の文字列を、一貫した単一の値に置き換えることができます。 この変換は、1 つまたは複数の列をサポートしています。 この変換は、列が選択されているときのみ表示され、列が選択されていない場合は、メインの [変換] メニューに表示されません。

## <a name="replace-missing-values"></a>欠損値の置換
欠けているデータを 1 つの値で置き換えます。 この変換は、1 つまたは複数の列をサポートしています。 この変換は、列が選択されているときのみ表示され、列が選択されていない場合は、メインの [変換] メニューに表示されません。

## <a name="replace-error-values"></a>エラー値の置換
エラー値を 1 つの値で置き換えます。 この変換は、1 つまたは複数の列をサポートしています。 この変換は、列が選択されているときのみ表示され、列が選択されていない場合は、メインの [変換] メニューに表示されません。

## <a name="trim-string"></a>文字列のトリミング
先頭および末尾の「空白」文字 (スペース、タブなどを含む) を、単一または複数の列から削除します。

## <a name="adjust-precision"></a>有効桁数の調整
数値列の小数点以下桁数を設定します。

## <a name="rename-column"></a>列名の変更
列の名前を変更します。この変換は、列のヘッダーから、列名をクリックしてインラインとして呼び出すこともできます。

## <a name="remove-column"></a>列の削除
選択した列を削除します。この変換は、1 つまたは複数の列に対して機能します。 

## <a name="keep-column"></a>列の保持
選択した列のみを保持します。この変換は、1 つまたは複数の列に対して機能します。

## <a name="handle-path-column"></a>パス列の処理
ファイルのインポート中に、ウィザードによって [パス] 列が自動的にデータセットに追加されます。 データセットへのパスを形成する完全修飾ファイル名が含まれています。 この変換は、データセットの余分な列を追加または削除します。

## <a name="convert-field-type-to-numeric"></a>フィールド型の数値への変換
列の型を数値に変更します。 整数以外のデータがある場合は、区切り記号を指定します。 既定では、この変換では区切り記号を要求しないため、**編集** メニューの項目を使用してエディターを起動します。 この変換は、1 つまたは複数の列に対して機能します。

## <a name="convert-field-type-to-date"></a>フィールド型の日付への変換
列の型を日付に変更します。 既定の日付/時刻形式を使用しますが、`strftime` ディレクティブを使用してオーバーライドすることもできます。 前に固定の日付と時刻の値を付加することもできます。

既定では、この変換では区切り記号を要求しないため、**編集** メニューの項目を使用してエディターを起動します。 この変換は、1 つまたは複数の列に対して機能します。

日付型に変換できるのは 1677 年 9 月 22 日から 2262 年 4 月 11 日までの期間の日付のみです。

## <a name="convert-field-type-to-boolean"></a>フィールド型のブール値への変換
列の型を true/false 型に変更します。 この変換は、複数の値の true または false へのマッピングをサポートしています。このマッピングは編集できます。 true / false マッピング テーブルに存在しない値を定数にマッピングする機能もサポートしています。 この変換は、1 つまたは複数の列に対して機能します。

## <a name="convert-field-type-to-string"></a>フィールド型の文字列への変換
列の型を文字列に変更します。 この変換は、1 つまたは複数の列に対して機能します。

## <a name="convert-unix-timestamp-to-datetime"></a>Unix のタイムスタンプの DateTime への変換
この変換では、Unix のタイムスタンプの形式がデータ内で文字列型で記述されていても、正しく解釈し、データの準備の中で正確に日付型に変換します。

## <a name="filter"></a>filter
フィルター変換は、1 つ以上の列に基づいて、行のフィルタリングをサポートします。フィルターの条件は各列のデータ型に依存し、文字列型の列については、「を含む」や「を含まない」というフィルターが使用できますが、数値型の列に対しては使用できません。 ただし、数値型の列には、「より大きい」、「より小さい」などの条件が使用できますが、文字列型の列に対しては使用できません。

フィルター変換が、メイン メニューから、または列のヘッダーの右クリックから呼び出された場合、合致しなかった行を別のデータ フローにフォークするオプションが使用できます。 これによって、メインのデータ フローがフィルターに**合致**した行で継続するのに対し、フィルターで**除外**された行をすべて含む、新しいデータ フローが作成されます。

## <a name="use-first-row-as-headers"></a>最初の行をヘッダーとして使用
この変換では、データセットの最初の行を列名として使用し、１ 行目にデータがない列がある場合には、名前が自動生成されます。 この変換を使用すると、データのインポートは早くとも 2 行目から開始されることになります。 [スキップする行] の設定に応じて、インポートは、データ セット内で、さらに下の行から開始されることがあります。 また、１ 行目を列名として使用せず、自動生成された名前のみを使用することもできます。

## <a name="join"></a>Join (結合)
この変換は、2 つのデータ フローを 1 つに結合するために使用します。 結合の出力のどれを結果とするかの選択が可能です。結合が成功した行、失敗した「左側の」行、失敗した「右側の」行が選択できます。

結合ウィザードは、1 つのデータ フローからを起動し、結合の片側としてそのデータ フローを選択します。それから、結合の相手側となるもう 1 つのデータ フローを選択するようユーザーに要求します。 2 つのフローを選択すると、ウィザードは、それぞれのフローで、どの列を使用して結合を行うかを要求します。 結合に複数の列が必要な場合、ウィザードを起動する前に、派生列を作成し、結合のみを目的とした新しい (連結された) 列を作成します。 ウィザードは、結合キーの提案と、可能であれば、派生列の自動生成を試みます。

結合が完了したら、結合の Sankey ダイアグラム ビューが表示されます。線の幅は、結合フローの部分を移動する行の数を相対的に示しています。 右側のパネルでは、成功した行、左側が失敗した行、右側が失敗した行のいずれかを排他的に選択できます。すなわち、1 つの分岐のみを選択できます。

## <a name="append-rows"></a>行の追加
この変換は、現在のバージョンに別のデータ フローからのデータを追加し、新しい行を最後に追加するよう、列の位置をマップします。

## <a name="append-columns"></a>列の追加
この変換は、現在のデータ フローに別のデータ フローから新しい列を追加します。右側に新しい列を追加しますが、行のデータを揃えようと試みることはありません。

## <a name="summarize"></a>集計
一部の列を選択し、一意の値の組み合わせの集計を計算します。

サポートされている集計は次のとおりです。 COUNT、SUM、MIN、MAX、MEAN (平均)、VARIANCE (分散)、STANDARD DEVIATION (標準偏差) 特定の列の集計のリストは、フィルター処理が適用できるデータ型のみにフィルター処理されます。 適用できない集計はグレー アウトされます。例として、文字列の列の平均を計算することはできませんが、min および max を計算することはできます。

ANSI SQL GROUP BY との類似

エディターが使用可能になったら、列ヘッダーからパネルの左上にドラッグすると、集計される列がここに表示されます。 このパネルは階層表示となっており、入れ子になった集計を行うことができます。 右上の [エディター] パネルを使用して、列に適用する集計を選択します。 １ つの列を 1 回、または複数回集計に使用できます。 少なくとも 1 津の集計が選択されたら、右下のグリッドに、集計フォームがプレビュー表示されます。 

## <a name="remove-duplicates"></a>重複の除去
この変換では、重複している値がある行全体が削除されます。 重複する値は、変換の呼び出しで選択されている 1 つまたは複数の列、またはエディターを使用して定義します。 列が選択されていない場合、削除された行は、列の値がすべて同じ行のみです。

## <a name="sort"></a>並べ替え
この変換には、データが並べ替えられます。1 つまたは複数の列で並べ替えが可能であり、各列は昇順 (既定値) または降順で並べ替えることができます (エディターから変更可能)。

ANSI SQL ORDER BY との類似

## <a name="output-transforms"></a>出力の変換
次の変換はデータを出力します。 単一のフロー内に複数の書き出しブロックを設け、データをさまざまなポイントで書き出すようにすることができます。

### <a name="write-to-csv"></a>CSV への書き込み
この変換は、データ フローの現在のポイントから、CSV 形式でデータを書き出します。  この変換により、ファイルの場所 (ローカルかリモートか) およびさまざまな設定を制御することができます。

### <a name="write-to-parquet"></a>Parquet への書き込み
この変換は、データ フローの現在のポイントから、Parquet 形式でデータを書き出します。 この変換により、ファイルの場所 (ローカルかリモートか) およびさまざまな設定を制御することができます。

## <a name="script-based-transforms"></a>スクリプト ベースの変換
次のすべての変換は、スクリプト (Python) を使用して、コア製品では提供されない機能を実行します。 
[これらの変換のいずれかを使用する前に、ここで拡張性に関するドキュメントを読んでください](data-prep-python-extensibility-overview.md):

### <a name="add-column-script"></a>列の追加 (スクリプト)
Python の式を使用してデータに列追加することができます。[詳細については「付録 10 を参照してください](data-prep-appendix10-sample-custom-column-transforms-python.md)

### <a name="advanced-filter-script"></a>高度なフィルター (スクリプト)
Python の行レベル フィルターを記述することができます。[詳細については「付録 6 を参照してください](data-prep-appendix6-sample-filter-expressions-python.md)

### <a name="transform-dataflow-script"></a>データ フローの変換 (スクリプト)
Python をデータ セット全体に適用することができます。

[詳細については付録 7 を参照してください](data-prep-appendix7-sample-transform-data-flow-python.md)

### <a name="transform-dataflow-script"></a>データ フローの変換 (スクリプト)
Python をデータ パーティション全体に適用することができます。

[詳細については付録 7 を参照してください](data-prep-appendix7-sample-transform-data-flow-python.md)

### <a name="write-dataflow-script"></a>データ フローの書き出し (スクリプト)
Python をデータ セット全体の書き出しに適用することができます。 [詳細については「付録 10 を参照してください](data-prep-appendix9-sample-destination-connections-python.md)




