---
title: "SQL の脆弱性評価 | Microsoft Azure"
description: "SQL Database に SQL の脆弱性評価を構成する方法を説明します。"
services: sql-database
author: BYHAM
manager: jhubbard
ms.service: sql-database
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 09/22/2017
ms.author: rick.byham@microsoft.com
ms.assetid: 
ms.openlocfilehash: 95863b9f5d62a4868f0e7c6f326f6f434631b811
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/11/2017
---
# <a name="sql-vulnerability-assessment"></a>SQL の脆弱性評価

SQL の脆弱性評価 (現在プレビュー中) は、データベースの潜在的な脆弱性を検出、追跡、修復できる、簡単な構成のツールです。 このツールを使って、データベースのセキュリティを事前に強化できます。  

## <a name="vulnerability-assessment-features"></a>脆弱性評価の機能  
SQL 脆弱性評価 (VA) は、セキュリティの状態を表示するサービスであり、セキュリティの問題を解決して、データベースのセキュリティを強化するために実行可能な手順が含まれます。 以下のことに役立ちます。  
- データベース スキャン レポートが必要なコンプライアンス要件を満たします。  
- データのプライバシー基準を満たします。  
- 変更の追跡が困難な動的データベース環境を監視します。  

VA は、Azure SQL Database サービスに組み込まれているスキャン サービスです。 このサービスでは、構成の不備、過剰な権限、保護されていない機密データなどセキュリティの脆弱性にフラグを設定し、ベスト プラクティスからの逸脱を明示する、ルールのナレッジ ベースが利用されます。 ルールは Microsoft のベスト プラクティスに基づき、データベースとその貴重なデータに最も大きなリスクとなるセキュリティの問題に注目します。 また、これらの規則は、さまざまな規制機関によるコンプライアンス基準を満たすための多くの要件も表しています。  

スキャンの結果では、各問題を解決するために実行可能な手順が示され、該当する場合はカスタマイズされた修復スクリプトが提供されます。 アクセス許可の構成、機能の構成、データベースの設定の許容されるベースラインを設定することで、環境に合わせて評価レポートをカスタマイズできます。   

## <a name="implementing-va"></a>VA を実装する  
次の手順では、SQL Database に VA を実装します。  

## <a name="1-run-a-scan"></a>1.スキャンを実行する  
VA の使用を始めるには、Azure SQL Database ウィンドウの [脆弱性評価 (プレビュー)] の設定に移動します。 最初に、スキャン結果を格納するストレージ アカウントを構成します。 ストレージ アカウントについて詳しくは、「[Azure ストレージ アカウントについて](../storage/common/storage-create-storage-account.md)」をご覧ください。 ストレージを構成した後、**[スキャン]** をクリックしてデータベースの脆弱性をスキャンします。  
![データベースをスキャンする](./media/sql-vulnerability-assessment/pp_va_initialize.png)  
  > [!NOTE]   
  > スキャンは軽量であり安全です。 実行に要する時間は数秒で、完全に読み取りだけです。 データベースを変更することはありません。  

## <a name="2-view-the-report"></a>2.レポートを表示する  
スキャンが完了すると、スキャン レポートが Azure Portal に自動的に表示されます。 レポートでは、セキュリティの状態の概要、発見された問題の数、それぞれの重大度が示されます。 結果には、ベスト プラクティスからの逸脱の警告だけでなく、データベース プリンシパルとロールおよびそれらに関連付けられた権限など、セキュリティ関連の設定のスナップショットが含まれます。 また、スキャン レポートでは、データベースで検出された機密データのマップと、それを保護するために使用できる組み込みの方法の推奨事項も提供されます。  
![レポートを表示する](./media/sql-vulnerability-assessment/pp_main_getstarted.png)  

## <a name="3-analyze-the-results-and-resolve-issues"></a>3.結果を分析して問題を解決する  
結果を確認し、レポートで示されている結果のうち環境で実際にセキュリティの問題となるものを判断します。 問題となった各結果をドリルダウンして、問題の影響と、各セキュリティ チェックが不合格になった理由を理解します。 レポートで提供される実行可能な修復の情報を使って、問題を解決します。  
![レポートを出力する](./media/sql-vulnerability-assessment/pp_fail_rule_show_remediation.png)    

## <a name="4-set-your-baseline"></a>4.ベースラインを設定する  
評価の結果を確認しながら、環境において許容されるベースラインとして特定の結果をマークできます。 ベースラインは、本質的には、結果を報告する方法のカスタマイズです。 以降のスキャンで、ベースラインと一致する結果は合格と見なされます。 ベースラインとなるセキュリティ状態を確立した後、VA ではベースラインからの逸脱のみが報告され、ユーザーは関連する問題に集中することができます。   
![ベースラインを設定する](./media/sql-vulnerability-assessment/pp_fail_rule_show_baseline.png)  

## <a name="5-run-a-new-scan-to-see-your-customized-tracking-report"></a>5.新しいスキャンを実行してカスタマイズした追跡レポートを確認する  
規則のベースラインの設定が済んだら、新しいスキャンを実行して、カスタマイズしたレポートを表示します。 VA は、ユーザーが承認したベースライン状態から逸脱したセキュリティの問題のみを報告するようになります。  
![カスタマイズしたレポートを表示する](./media/sql-vulnerability-assessment/pp_pass_main_with_baselines.png)  

VA を使って、データベースが常に高レベルのセキュリティを維持し、組織のポリシーが満たされていることを、監視できるようになりました。 コンプライアンス レポートが必要な場合、VA レポートはコンプライアンス プロセスを容易にするのに役立ちます。  

## <a name="next-steps"></a>次のステップ  

[SQL Database の監査](sql-database-auditing.md)の構成を検討します。  
